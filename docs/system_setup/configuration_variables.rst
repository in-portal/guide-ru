Переменные конфигурации
***********************
`Data Source`_
`Confluence`_

Здесь описаны все доступные переменные конфигурации K4. Каждая переменная представляет из себя запись в 2-х таблицах:

- :doc:`/database/table_structure/configuration_admin` - визуальное представление переменной в административной консоли;
- :doc:`/database/table_structure/configuration_values` - значение переменной в административной консоли.

Core
====

+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| название                                   | описание                                                                                        | по умолчанию                            |
+============================================+=================================================================================================+=========================================+
| .. config-property::                       | Указывает на способ выполнения                                                                  | 0                                       |
|    :name: UseCronForRegularEvent           | :doc:`регулярных событий </components/unit_configs/regular_events>`.                            |                                         |
|    :type: int                              | Если включить данную переменную, то все регулярные события будут                                |                                         |
|    :ref_prefix: cfg_                       | выполняться только из cron.                                                                     |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.3.0                                                                         | 0                                       |
|    :name: UseChangeLog                     |                                                                                                 |                                         |
|    :type: int                              | Указывает на то, что изменения в базе должны писаться в журнал изменений.                       |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.2.2                                                                         | 0                                       |
|    :name: KeepSessionOnBrowserClose        |                                                                                                 |                                         |
|    :type: int                              |    Ранее сессия пользователя была доступна и при повторном открытии браузера.                   |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
|                                            | Указывает на то, что при закрытии браузера НЕ должна теряться (expire) его                      |                                         |
|                                            | сессия. По умолчанию выключена, т.е. при закрытии браузера сессия                               |                                         |
|                                            | ТЕРЯЕТСЯ.                                                                                       |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.3.0                                                                         | 1,5,15,30,60,120,240                    |
|    :name: AutoRefreshIntervals             |                                                                                                 |                                         |
|    :type: string                           | Возможные интервалы автоматического обновления списков. Указывается через                       |                                         |
|    :ref_prefix: cfg_                       | запятую, задаётся в минутах. Доступно из "View Menu" у списков.                                 |                                         |
|                                            |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.3.1                                                                         | 0                                       |
|    :name: RememberLastAdminTemplate        |                                                                                                 |                                         |
|    :type: int                              |    Ранее последний шаблон в административной консоли всегда восстанавливался                    |                                         |
|    :ref_prefix: cfg_                       |    после прохождения идентификации.                                                             |                                         |
|                                            |                                                                                                 |                                         |
|                                            | Указывает на то, что после прохождения идентификации пользователь не                            |                                         |
|                                            | должен быть перенаправлен на последний посещённый им шаблон. Только для                         |                                         |
|                                            | административной консоли.                                                                       |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 1.1.2                                                                         |                                         |
|    :name: SSL_URL                          |                                                                                                 |                                         |
|    :type: string                           | Здесь указывается адрес сайта, по которому он доступен при использовании в                      |                                         |
|    :ref_prefix: cfg_                       | SSL режиме. Адрес всегда должен начинаться с ``https://``                                       |                                         |
|                                            | и не заканчиваться на ``/``.                                                                    |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.3.1                                                                         |                                         |
|    :name: AdminSSL_URL                     |                                                                                                 |                                         |
|    :type: string                           | Здесь указывается адрес сайта, по которому будет доступна его                                   |                                         |
|    :ref_prefix: cfg_                       | административная консоль при использовании в SSL режиме (``/admin``                             |                                         |
|                                            | указывать не нужно). Адрес всегда должен начинаться с                                           |                                         |
|                                            | ``https://`` и не заканчиваться на ``/``. Если                                                  |                                         |
|                                            | значение данной конфигурационной переменной не указано, то будет                                |                                         |
|                                            | использовано значение переменной :ref:`cfg_SSL_URL`.                                            |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.1.0                                                                         | 0                                       |
|    :name: Require_AdminSSL                 |                                                                                                 |                                         |
|    :type: int                              | Эта переменная конфигурации говорит о том, что в административную консоль                       |                                         |
|    :ref_prefix: cfg_                       | можно заходить только используя защищённое соединение, т.е. SSL.                                |                                         |
|                                            |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации говорит о том, что при посещении шаблонов, на                       | 0                                       |
|    :name: Require_SSL                      | которых установлен тэг ``m_CheckSSL`` с параметром                                              |                                         |
|    :type: int                              | ``condition="Require_SSL"`` должен автоматически осуществляться переход в                       |                                         |
|    :ref_prefix: cfg_                       | SSL-режим (конечно если сайт в таком уже не находиться).                                        |                                         |
|                                            |                                                                                                 |                                         |
|                                            | .. code:: xml                                                                                   |                                         |
|                                            |                                                                                                 |                                         |
|                                            |    <inp2:m_CheckSSL mode="required" condition="Require_SSL"/>                                   |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Если эта конфигурационная переменная включена, то если пользователь                             | 1                                       |
|    :name: Force_HTTP_When_SSL_Not_Required | находясь в SSL-режиме заходит на шаблон, который не требует наличия                             |                                         |
|    :type: int                              | SSL-режима, то он будет автоматически перенаправлен на **эквивалентный**                        |                                         |
|    :ref_prefix: cfg_                       | ``http://`` шаблон (напр. адрес                                                                 |                                         |
|                                            | ``https://www.test.com/no_ssl.html`` станет                                                     |                                         |
|                                            | ``http://www.test.com/no_ssl.html``).                                                           |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Если данная переменная конфигурации включена и для пользовательской части                       | 0                                       |
|    :name: UseModRewriteWithSSL             | сайта включён режим mod-rewrite, то ссылки в SSL-режиме тоже будут                              |                                         |
|    :type: int                              | строиться используя mod-rewrite технологию (как и не в SSL-режиме).                             |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
|                                            | .. caution::                                                                                    |                                         |
|                                            |                                                                                                 |                                         |
|                                            |    Перед включением данной конфигурационной переменной нужно убедиться, что для сайта,          |                                         |
|                                            |    указанного в конфигурационной переменной :ref:`cfg_SSL_URL` включена поддержка mod-rewrite   |                                         |
|                                            |    (в настройках сервера).                                                                      |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.3.1                                                                         | 0                                       |
|    :name: AllowSelectGroupOnFront          |                                                                                                 |                                         |
|    :type: int                              | Эта переменная разрешает пользователю на Front-End выбрать себе                                 |                                         |
|    :ref_prefix: cfg_                       | :doc:`группу </database/table_structure/portal_group>` прав, которую                            |                                         |
|                                            | он пожелает (виртуальное поле ``UserGroup``).                                                   |                                         |
|                                            | Можно выбирать только те :doc:`группы </database/table_structure/portal_group>`,                |                                         |
|                                            | у которых это разрешено (см. поле :ref:`tc_PortalGroup_FrontRegistration`).                     |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.3.1                                                                         | 0                                       |
|    :name: ForceImageMagickResize           |                                                                                                 |                                         |
|    :type: int                              | Эта переменная которая говорит, что изображения масштабировать нужно при                        |                                         |
|    :ref_prefix: cfg_                       | помощи программы                                                                                |                                         |
|                                            | `ImageMagicк <http://www.imagemagick.org/script/index.php>`__, даже если                        |                                         |
|                                            | библиотека ``GD`` доступна в ``PHP``.                                                           |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 1.1.0                                                                         | 0                                       |
|    :name: Email_As_Login                   |                                                                                                 |                                         |
|    :type: int                              | Эта переменная конфигурации задаёт поле, используемое при авторизации на                        |                                         |
|    :ref_prefix: cfg_                       | пользовательской части сайта. 1 - Email. 0 - Login.                                             |                                         |
|                                            |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.0.1                                                                         | 0                                       |
|    :name: RegistrationCaptcha              |                                                                                                 |                                         |
|    :type: int                              | Эта переменная конфигурации определяет, требуется ли при регистрации новых                      |                                         |
|    :ref_prefix: cfg_                       | пользователей с пользовательской части сайта ввод буквенно-числового кода,                      |                                         |
|                                            | подтверждающего что системой намерен пользоваться человек а не робот.                           |                                         |
|                                            | Значения: 1 - требуется. 0 - не требуется.                                                      |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная определяет возможность регистрации новых пользователей с                         |                                         |
|    :name: User_Allow_New                   | пользовательской части сайта. Значения:                                                         |                                         |
|    :type: int                              |                                                                                                 |                                         |
|    :ref_prefix: cfg_                       | - 1 - регистрация возможна, статус новых пользователей - активный                               |                                         |
|                                            | - 2 - регистрация не возможна                                                                   |                                         |
|                                            | - 3 - регистрация возможна, статус новых пользователей - ожидают                                |                                         |
|                                            |   подтверждения со стороны администратора                                                       |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная определяет группу пользователей, к которой новый                                 |                                         |
|    :name: User_NewGroup                    | пользователь приписывается если не была задана явно другая группа.                              |                                         |
|    :type: int                              |                                                                                                 |                                         |
|    :ref_prefix: cfg_                       | .. code:: php                                                                                   |                                         |
|                                            |                                                                                                 |                                         |
|                                            |    $this->Application->GetVar('user_group')                                                     |                                         |
|                                            |                                                                                                 |                                         |
|                                            | По соображениям безопасности переменная ``user_group`` таким образом                            |                                         |
|                                            | работает только в административной консоли - чтобы посетители сайта не                          |                                         |
|                                            | могли при регистрации назначить себе группу.                                                    |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | В K4 пользователи могут состоять в группах пользователей (Member,                               |                                         |
|    :name: User_MembershipExpirationReminder| Subscribers и.т.п.). Членство в группе может быть постоянным или                                |                                         |
|    :type: int                              | временным. В случае временного членства, эта переменная определяет за                           |                                         |
|    :ref_prefix: cfg_                       | сколько дней до окончания членства в группе пользователю, чьё членство                          |                                         |
|                                            | должно скоро прекратиться, и администратору сайта, будет высылаться                             |                                         |
|                                            | :doc:`почтовое извещение </mail_notification_system/sending_mail_notifications>` (событие       |                                         |
|                                            | ``USER.MEMBERSHIP.EXPIRATION.NOTICE``).                                                         |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная определяет должна ли система при создании нового                                 |                                         |
|    :name: User_Password_Auto               | пользователя автоматически сгенерировать пароль для этого пользователя.                         |                                         |
|    :type: int                              | Значения: 1 - должна, 0 - не должна. Если эта опция включена, то в форме                        |                                         |
|    :ref_prefix: cfg_                       | регистрации пользователя не надо показывать поля для ввода пароля.                              |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 1.1.2                                                                         | 1                                       |
|    :name: FirstDayOfWeek                   |                                                                                                 |                                         |
|    :type: int                              | Эта переменная конфигурации определяет день недели, с которого начинается                       |                                         |
|    :ref_prefix: cfg_                       | неделя и влияет на отображение календаря. Типичные значения: 1 -                                |                                         |
|                                            | понедельник, 0 - воскресенье.                                                                   |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 1.2.0                                                                         | no_permission                           |
|    :name: NoPermissionTemplate             |                                                                                                 |                                         |
|    :type: string                           | Эта переменная конфигурации задаёт шаблон, на который происходит                                |                                         |
|    :ref_prefix: cfg_                       | перенаправление в случае несоответствия прав доступа пользователя                               |                                         |
|                                            | требованиям, предъявляемым для отображения исходной страницы                                    |                                         |
|                                            | пользовательской части сайта.                                                                   |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 1.1.4                                                                         | sid                                     |
|    :name: SessionCookieName                |                                                                                                 |                                         |
|    :type: string                           | Эта переменная конфигурации задаёт имя cookie, хранящей идентификатор                           |                                         |
|    :ref_prefix: cfg_                       | сессии пользователя.                                                                            |                                         |
|                                            |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 1.1.4                                                                         | 1                                       |
|    :name: SessionReferrerCheck             |                                                                                                 |                                         |
|    :type: int                              | Эта переменная конфигурации определяет, должна ли происходить проверка                          |                                         |
|    :ref_prefix: cfg_                       | переменной ``$_SERVER['HTTP_REFERER']``, когда идентификатор сессии                             |                                         |
|                                            | пользователя может передаваться в обход ``cookies``. Проверка даёт                              |                                         |
|                                            | дополнительные гарантии что система не обработает ложные ``POST``-запросы,                      |                                         |
|                                            | сгенерированные вне системы.                                                                    |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации определяет как долго будет продолжаться сессия                      |                                         |
|    :name: SessionTimeout                   | пользователя в случае отсутствия какой-либо активности с его стороны.                           |                                         |
|    :type: int                              | Время задаётся в секундах. Время сохранения сессии ограничивается в целях                       |                                         |
|    :ref_prefix: cfg_                       | безопасности.                                                                                   |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации задаёт название сайта, отображаемое в                               |                                         |
|    :name: Site_Name                        | заголовках страниц, в электронных сообщениях, посылаемых с сайта.                               |                                         |
|    :type: string                           |                                                                                                 |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации задаёт путь к сайту относительно корневого                          |                                         |
|    :name: Site_Path                        | каталога, соответствующего домену, используемому для доступа к сайту                            |                                         |
|    :type: string                           | (``$_SERVER['DOCUMENT_ROOT']``). Например, если сайт находится в                                |                                         |
|    :ref_prefix: cfg_                       | подкаталоге ``dev``, значение этой переменной должно быть ``/dev/``.                            |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации задаёт обратный адрес электронной почты,                            | ``portal@domain``, где ``domain``       |
|    :name: Smtp_AdminMailFrom               | используемый по умолчанию в сообщениях электронной почты, отправляемых с                        | - домен, указанный при инсталляции сайта|
|    :type: string                           | сайта.                                                                                          |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации определяет нужна ли авторизация при обращению                       | 0                                       |
|    :name: Smtp_Authenticate                | к серверу электронной почты. Значения: 1 - нужна, 0 - не нужна.                                 |                                         |
|    :type: int                              |                                                                                                 |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации определяет имя пользователя для доступа к                           |                                         |
|    :name: Smtp_User                        | почтовому серверу, в случае когда требуется авторизация.                                        |                                         |
|    :type: int                              |                                                                                                 |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации определяет пароль для доступа к почтовому                           |                                         |
|    :name: Smtp_Pass                        | серверу, в случае когда требуется авторизация.                                                  |                                         |
|    :type: int                              |                                                                                                 |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | Эта переменная конфигурации позволяет задать домен или ``IP`` почтового                         |                                         |
|    :name: Smtp_Server                      | сервера в случае, если не годится почтовый сервер по умолчанию, задаваемый                      |                                         |
|    :type: int                              | конфигурацией ``PHP``.                                                                          |                                         |
|    :ref_prefix: cfg_                       |                                                                                                 |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 1.1.4                                                                         | 0                                       |
|    :name: UseModRewrite                    |                                                                                                 |                                         |
|    :type: int                              | Эта переменная конфигурации определяет способ адресации страниц на                              |                                         |
|    :ref_prefix: cfg_                       | пользовательской части сайта. Значения: ``0 - mod-rewrite`` выключен,                           |                                         |
|                                            | ``1 - mod-rewrite`` включен. Если ``mod-rewrite`` выключен, то при                              |                                         |
|                                            | адресации страницы её положение в структуре сайта задаётся в переменной                         |                                         |
|                                            | env.                                                                                            |                                         |
|                                            |                                                                                                 |                                         |
|                                            | ``http://www.somedomain.com/index.php?env=-in-commerce/product/details:m304-1-1-3-s-:p-41----`` |                                         |
|                                            |                                                                                                 |                                         |
|                                            | Если же ``mod-rewrite`` включен, то положение страницы в структуре сайта                        |                                         |
|                                            | отображается в виде каталогов-подкаталогов, именованных в соответствии с                        |                                         |
|                                            | названиями категорий сайта и названием текущего объекта когда таковой                           |                                         |
|                                            | представлен на странице,                                                                        |                                         |
|                                            |                                                                                                 |                                         |
|                                            | ``http://www.somedomain.com/products/bikes/incredi_bike.html``                                  |                                         |
|                                            |                                                                                                 |                                         |
|                                            | что бывает предпочтительно в смысле индексации сайта поисковыми роботами.                       |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.2.0                                                                         | 1                                       |
|    :name: UseToolbarLabels                 |                                                                                                 |                                         |
|    :type: int                              | Эта переменная конфигурации определяет будут ли в административной                              |                                         |
|    :ref_prefix: cfg_                       | консоли, в Toolbar-ах показываться текстовые надписи под кнопками.                              |                                         |
|                                            | Значения: 1 - будут, 0 - не будут. Это значение используется в                                  |                                         |
|                                            | JavaScript-функциях, генерирующих кнопки.                                                       |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.3.2                                                                         |                                         |
|    :name: YahooApplicationId               |                                                                                                 |                                         |
|    :type: string                           | Эта переменная конфигурации позволяет задать `Yahoo Application                                 |                                         |
|    :ref_prefix: cfg_                       | ID <http://developer.yahoo.com/wsregapp/>`__, которая в последствии будет                       |                                         |
|                                            | использована для интеграции с возможностями, которые предоставляет сервис                       |                                         |
|                                            | ``Yahoo``. На данный момент она используется для осуществления                                  |                                         |
|                                            | `орфографических подсказок <K4:SpellingDictionary>`__ на форме поиска.                          |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 4.3.2                                                                         | ``_``                                   |
|    :name: FilenameSpecialCharReplacement   |                                                                                                 |                                         |
|    :type: string                           | Эта переменная конфигурации позволяет символ, использующийся для замены                         |                                         |
|    :ref_prefix: cfg_                       | запрещённых символов в названиях элементов, использующихся при построении                       |                                         |
|                                            | ссылок в ``mod-rewrite`` режиме. До появления этой конфигурационной                             |                                         |
|                                            | переменной использовался только символ ``_``, но теперь его можно                               |                                         |
|                                            | заменить на ``-``.                                                                              |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+
| .. config-property::                       | .. versionadded:: 5.0.0                                                                         | ``1``                                   |
|    :name: QuickCategoryPermissionRebuild   |                                                                                                 |                                         |
|    :type: string                           | Эта переменная конфигурации позволяет перестраивать кеш прав категорий                          |                                         |
|    :ref_prefix: cfg_                       | (после сохранения категории) по быстрому, т.е. не используя                                     |                                         |
|                                            | ``progress bar``.                                                                               |                                         |
+--------------------------------------------+-------------------------------------------------------------------------------------------------+-----------------------------------------+

In-Portal
=========

+-----------------------------+------------------------------------------------------------------------------+--------------------------------------------------+
| название                    | описание                                                                     | по умолчанию                                     |
+=============================+==============================================================================+==================================================+
| .. config-property::        | .. versionadded:: 4.2.2                                                      |                                                  |
|    :name: RecycleBinFolder  |                                                                              |                                                  |
|    :type: int               | Если указать, то все записи из каталога после удаления будут попадать в      |                                                  |
|    :ref_prefix: cfg_        | категорию с ID, указанным здесь.                                             |                                                  |
+-----------------------------+------------------------------------------------------------------------------+--------------------------------------------------+
| .. config-property::        | .. versionadded:: 4.3.0                                                      | 0                                                |
|    :name: UsePageHitCounter |                                                                              |                                                  |
|    :type: int               | Указывать на то, что нужно считать общее количество посещений сайта (т.е.    |                                                  |
|    :ref_prefix: cfg_        | захода на каждую страницу на Front-End).                                     |                                                  |
+-----------------------------+------------------------------------------------------------------------------+--------------------------------------------------+
| .. config-property::        | .. versionadded:: 4.3.0                                                      | 0                                                |
|    :name: PageHitCounter    |                                                                              |                                                  |
|    :type: int               | Хранит в себе общее количество посещений сайта. Используется совместно с     |                                                  |
|    :ref_prefix: cfg_        | :ref:`cfg_UsePageHitCounter`.                                                |                                                  |
+-----------------------------+------------------------------------------------------------------------------+--------------------------------------------------+
| .. config-property::        | .. versionadded:: 1.0.0                                                      | Задаётся администратором при инсталляции системы |
|    :name: RootPass          |                                                                              |                                                  |
|    :type: string            | Эта переменная конфигурации хранит hash пароля главного администратора сайта |                                                  |
|    :ref_prefix: cfg_        | и используется для проверки пароля при входе главного администратора в       |                                                  |
|                             | администраторскую часть сайта.                                               |                                                  |
+-----------------------------+------------------------------------------------------------------------------+--------------------------------------------------+
| .. config-property::        | .. versionadded:: 1.0.0                                                      | lu_rootcategory_name                             |
|    :name: Root_Name         |                                                                              |                                                  |
|    :type: string            | Эта переменная содержит фразу, переводимую как название корневой категории   |                                                  |
|    :ref_prefix: cfg_        | системы (категории с номером 0). Используется для отображения элементов      |                                                  |
|                             | навигации.                                                                   |                                                  |
+-----------------------------+------------------------------------------------------------------------------+--------------------------------------------------+

Proj-Base
=========

+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------+-------------+
| название                         | описание                                                                                                                        | по умолчанию|
+==================================+=================================================================================================================================+=============+
| .. config-property::             | .. versionadded:: 4.2.0                                                                                                         | 0           |
|    :name: UseSmallHeader         |                                                                                                                                 |             |
|    :type: int                    | Позволяет убрать заголовок на grid.                                                                                             |             |
|    :ref_prefix: cfg_             |                                                                                                                                 |             |
|                                  | ==================== ===================                                                                                        |             |
|                                  | до                   после                                                                                                      |             |
|                                  | ==================== ===================                                                                                        |             |
|                                  | |normal grid header| |small grid header|                                                                                        |             |
|                                  | ==================== ===================                                                                                        |             |
|                                  |                                                                                                                                 |             |
|                                  | Будет работать только при использовании блока ``combined_header``.                                                              |             |
+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------+-------------+
| .. config-property::             | Начинать создание/редактирование записей из grid в новом окне (popup).                                                          | 1           |
|    :name: UsePopups              |                                                                                                                                 |             |
|    :type: int                    |                                                                                                                                 |             |
|    :ref_prefix: cfg_             |                                                                                                                                 |             |
+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------+-------------+
| .. config-property::             | .. versionadded:: 4.2.2                                                                                                         | 0           |
|    :name: TrimRequiredFields     |                                                                                                                                 |             |
|    :type: int                    | Указывает на то, что перед проверкой на наличие данных в обязательных полях к ним применяется функция                           |             |
|    :ref_prefix: cfg_             | ``trim()``.                                                                                                                     |             |
+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------+-------------+
| .. config-property::             | .. versionadded:: 4.2.2                                                                                                         | 200         |
|    :name: MenuFrameWidth         |                                                                                                                                 |             |
|    :type: int                    | Позволяет задать ширину фрэйма c деревом (в пикселях), по умолчанию 200. Доступна только в Platform с версии                    |             |
|    :ref_prefix: cfg_             |                                                                                                                                 |             |
+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------+-------------+
| .. config-property::             | .. versionadded:: 4.2.2                                                                                                         | -1          |
|    :name: DefaultSettingsUserId  |                                                                                                                                 |             |
|    :type: int                    | Пользователь, который используется когда новый администратор (у которого еще нет данных                                         |             |
|    :ref_prefix: cfg_             | :doc:`PersistentSession </database/table_structure/persistant_session_data>`) первый раз заходит на любой список.               |             |
|                                  | Такому администратору проставляются значения :doc:`PersistentSession </database/table_structure/persistant_session_data>`       |             |
|                                  | от пользователя с указанным в этой переменной ID, а именно данные:                                                              |             |
|                                  |                                                                                                                                 |             |
|                                  | - ColumnPicker'а;                                                                                                               |             |
|                                  | - PerPage;                                                                                                                      |             |
|                                  | - Filters.                                                                                                                      |             |
|                                  |                                                                                                                                 |             |
|                                  | Таким образом если красиво настроить все списки (включая ширины колонок, т.к. они теперь тоже хранятся в                        |             |
|                                  | :doc:`PersistentSession </database/table_structure/persistant_session_data>`) для root'а или другого пользователя               |             |
|                                  | (указав его Id), то эти настройки будут работать для новых пользователей по умолчанию. Также в раздел                           |             |
|                                  | ``Users Management -> Admins`` добавлена кнопка ``Reset`` (только в Platform), которая стирает персональные настройки выбранным |             |
|                                  | пользователям (только те, что берутся от пользователя по умолчанию) и таким образом пользователю можно принудительно выставить  |             |
|                                  | настройки списков (правда сразу всех) по умолчанию. Переменная по умолчанию имеет значение ``-1``, т.е. "root".                 |             |
|                                  |                                                                                                                                 |             |
|                                  | .. note::                                                                                                                       |             |
|                                  |                                                                                                                                 |             |
|                                  |    Если не ввести значение, то всё равно будет интерпретировано, как `-1` :(. Чтобы выключить данную функциональность нужно     |             |
|                                  |    написать любое ID несуществующего пользователя, напр. 999999999999.                                                          |             |
+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------+-------------+
| .. config-property::             | .. versionadded:: 4.2.2                                                                                                         | 0           |
|    :name: AdvancedUserManagement |                                                                                                                                 |             |
|    :type: int                    | Включает дополнительные возможности управления правами пользователей (администраторов) через группы. По                         |             |
|    :ref_prefix: cfg_             | умолчанию выключена. После включения необходимо очистить Sections Cache и перезагрузить фрейм с деревом.                        |             |
|                                  | Параметр включает секцию ``Groups``, в которой можно создавать группы по смыслу, а также просматривать и                        |             |
|                                  | добавлять/удалять пользователей в этих группах. В редактировании администраторов добавляется закладка со                        |             |
|                                  | списком групп в которых состоит пользователь. Для управления правами пользователей используется следующая                       |             |
|                                  | схема: стандартной группе ``admin`` запрещается все, кроме права ``ADMIN.LOGIN``, далее создаются группы по                     |             |
|                                  | смыслу, которым разрешается доступ в нужные секции. Все администраторы автоматически добавляются в основную                     |             |
|                                  | группу ``admin`` (при создании через соответствующую секцию). Далее их надо добавлять в нужные смысловые                        |             |
|                                  | группы, НЕ УБИРАЯ из группы ``admin`` и НЕ МЕНЯЯ основную (primary) группу, т.к. в секции ``Administrators``                    |             |
|                                  | показываются пользователи, у которых основная группа - ``admin``.                                                               |             |
+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------+-------------+
| .. config-property::             | Эта переменная конфигурации определяет как меняется сортировка в списках. Сортировка меняется при выполнении                    | 0           |
|    :name: UseDoubleSorting       | события ``OnSetSorting`` - например, когда мышкой нажимают на заголовок столбца с данными. При                                  |             |
|    :type: int                    | ``UseDoubleSorting = 0`` (значение по умолчанию) в итоге получается фильтр только по одному столбцу, на                         |             |
|    :ref_prefix: cfg_             | заголовок которого нажали. Если же ``UseDoubleSorting = 1``, и мышкой поочерёдно нажимали на заголовки                          |             |
|                                  | разных столбцов, то фильтр будет по двум столбцам - вначале по столбцу, нажатому последним, а затем - по                        |             |
|                                  | столбцу, нажатому предпоследним.                                                                                                |             |
+----------------------------------+---------------------------------------------------------------------------------------------------------------------------------+-------------+

.. |normal grid header| image:: /images/Normal_grid_header.gif
   :width: 180px
.. |small grid header| image:: /images/Small_grid_header.gif
   :width: 180px

Proj-CMS
========

+---------------------------------------+-------------------------------------------------------------------------------------------------+-------------+
| название                              | описание                                                                                        | по умолчанию|
+=======================================+=================================================================================================+=============+
| .. config-property::                  | .. versionadded:: 4.0.1                                                                         | 0           |
|    :name: ProjCMSAllowManualFilenames |                                                                                                 |             |
|    :type: int                         | Эта переменная конфигурации разрешает пользователю редактировать название файла для mod-rewrite |             |
|    :ref_prefix: cfg_                  | (галочка "Auto-filename" и само название файла).                                                |             |
|                                       |                                                                                                 |             |
+---------------------------------------+-------------------------------------------------------------------------------------------------+-------------+

In-Commerce
===========

Переменные вида ``Comm_Shipping***`` задают адрес с которого происходит доставка заказов и могут использоваться для расчёта стоимости доставки заказа.

+-------------------------------------------+-------------------------------------------------------------------------------+-------------+
| название                                  | описание                                                                      | по умолчанию|
+===========================================+===============================================================================+=============+
| .. config-property::                      | Эта переменная конфигурации определяет должен ли покупатель авторизоваться на | 0           |
|    :name: Comm_RequireLoginBeforeCheckout | пользовательской части сайта для окончательного оформления заказа. 1 - должен |             |
|    :type: string                          | авторизоваться. 0 - не должен.                                                |             |
|    :ref_prefix: cfg_                      |                                                                               |             |
+-------------------------------------------+-------------------------------------------------------------------------------+-------------+
| .. config-property::                      | Эта переменная конфигурации задаёт первую строку адреса с которого происходит |             |
|    :name: Comm_Shipping_AddressLine1      | доставка заказов.                                                             |             |
|    :type: string                          |                                                                               |             |
|    :ref_prefix: cfg_                      |                                                                               |             |
+-------------------------------------------+-------------------------------------------------------------------------------+-------------+
| .. config-property::                      | Эта переменная конфигурации задаёт вторую строку адреса с которого происходит |             |
|    :name: Comm_Shipping_AddressLine2      | доставка заказов.                                                             |             |
|    :type: string                          |                                                                               |             |
|    :ref_prefix: cfg_                      |                                                                               |             |
+-------------------------------------------+-------------------------------------------------------------------------------+-------------+
| .. config-property::                      | Эта переменная конфигурации задаёт город из которого происходит доставка      |             |
|    :name: Comm_Shipping_City              | заказов.                                                                      |             |
|    :type: string                          |                                                                               |             |
|    :ref_prefix: cfg_                      |                                                                               |             |
+-------------------------------------------+-------------------------------------------------------------------------------+-------------+
| .. config-property::                      | Эта переменная конфигурации задаёт страну из которой происходит доставка      |             |
|    :name: Comm_Shipping_Country           | заказов. Выбирается одно из значений ``DestAbbr`` таблицы ``StdDestinations``.|             |
|    :type: string                          |                                                                               |             |
|    :ref_prefix: cfg_                      |                                                                               |             |
+-------------------------------------------+-------------------------------------------------------------------------------+-------------+
| .. config-property::                      | Эта переменная конфигурации задаёт штат или провинцию откуда происходит       |             |
|    :name: Comm_Shipping_State             | доставка заказов.                                                             |             |
|    :type: string                          |                                                                               |             |
|    :ref_prefix: cfg_                      |                                                                               |             |
+-------------------------------------------+-------------------------------------------------------------------------------+-------------+
| .. config-property::                      | Эта переменная конфигурации задаёт почтовый индекс с которого происходит      |             |
|    :name: Comm_Shipping_ZIP               | доставка заказов.                                                             |             |
|    :type: string                          |                                                                               |             |
|    :ref_prefix: cfg_                      |                                                                               |             |
+-------------------------------------------+-------------------------------------------------------------------------------+-------------+

.. seealso::

   - :doc:`/database/table_structure/configuration_admin`
   - :doc:`/database/table_structure/configuration_values`

.. _Data Source: http://guide.in-portal.org/rus/index.php/K4:Configuration
.. _Confluence: http://community.in-portal.org/pages/viewpage.action?pageId=14155801

.. include:: /includes/broken_links.rst

.. Broken Links:
   =============
   K4:SpellingDictionary
