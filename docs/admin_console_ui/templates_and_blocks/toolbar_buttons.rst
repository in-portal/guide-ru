Добавление кнопки в панель инструментов
=======================================
`Data Source`_
`Eng Data Source`_

Панель инструментов это один из основных элементов управления ходом событий в шаблонах. Для добавления
новой кнопки в уже имеющуюся панель инструментов следует использовать следующий JavaScript код:

.. code:: javascript

   a_toolbar.AddButton(
       new ToolBarButton(
           'custom:sample_button',
           '<inp2:m_phrase label="la_ToolTip_SampleButton" escape="1"/>::<inp2:m_phrase label="la_ShortToolTip_SampleButton" escape="1"/>',
           function() {
               // alert('button worked');
           }
       )
   );

Конструктор класса ``ToolBarButton`` принимает 5 параметров, из которых только первые 3 обязательные:

+---------------------------------+--------------------------------------------------------------------------------------------------+
| название                        | описание                                                                                         |
+=================================+==================================================================================================+
| .. config-property::            | Идентификатор кнопки. Идентификатор должен быть уникальным в пределах одной панели инструментов. |
|    :name: title                 | В идентификаторе также можно указать модуль, служащий источником пиктограмм используемых в       |
|    :type: string                | кнопке (см. :doc:`/application_structure/directory_structure`). Ниже приведены примеры названий  |
|    :ref_prefix: toolbar_button_ | файлов пиктограмм, определяющих вид кнопки:                                                      |
|                                 |                                                                                                  |
|                                 | - ``tool_sample_button.gif`` - вид кнопки по умолчанию (можно нажать);                           |
|                                 | - ``tool_sample_button_f1.gif`` - вид кнопки, если на неё подвести курсор мышки (можно нажать);  |
|                                 | - ``tool_sample_button_f2.gif`` - вид кнопки, когда она не активна (можно не создавать если не   |
|                                 |   используется).                                                                                 |
|                                 |                                                                                                  |
|                                 | В приведённом выше примере вместо "sample_button" нужно подставить фактическое название кнопки.  |
|                                 | Название модуля отделяется от названия кнопки при помощи символа двоеточия (``:``). Если         |
|                                 | используемый модуль ``core``, то его указывать не требуется. В последствии можно использовать    |
|                                 | название кнопки (не идентификатор) для работы с кнопкой (включение, выключение и т.п.) из        |
|                                 | объекта панели инструментов.                                                                     |
+---------------------------------+--------------------------------------------------------------------------------------------------+
| .. config-property::            | Фраза, показываемая при наведении курсора мыши на кнопку (mouseover). Также эта фраза            |
|    :name: alt                   | используется для показывания вспомогательного текста под кнопкой (только если опция              |
|    :type: string                | конфигурации :ref:`cfg_UseToolbarLabels` включена). Если указать 2 фразы разделённые с           |
|    :ref_prefix: toolbar_button_ | использованием двух двоеточий (``::``), то фраза указанная до разделителя будет                  |
|                                 | использована в качестве краткой подсказки (при наведении мышки), а фраза указанная после         |
|                                 | разделителя будет использована в качестве текста, показываемого под кнопкой.                     |
+---------------------------------+--------------------------------------------------------------------------------------------------+
| .. config-property::            | Действие, которое должно происходить при нажатии на кнопку. Обычно, для наглядности,             |
|    :name: onclick               | динамически определяется функция и в ней пишется фактический JavaScript код, который             |
|    :type: string                | должен быть выполнен.                                                                            |
|    :ref_prefix: toolbar_button_ |                                                                                                  |
+---------------------------------+--------------------------------------------------------------------------------------------------+
| .. config-property::            | Кнопка должна быть сразу спрятана после своего добавления в панель инструментов.                 |
|    :name: $hidden               |                                                                                                  |
|    :type: int                   |                                                                                                  |
|    :ref_prefix: toolbar_button_ |                                                                                                  |
+---------------------------------+--------------------------------------------------------------------------------------------------+
| .. config-property::            | :ref:`Префикс <uc_Prefix>`, который влияет на ID, которое будет проставлено созданной кнопке.    |
|    :name: prefix                |                                                                                                  |
|    :type: string                |                                                                                                  |
|    :ref_prefix: toolbar_button_ |                                                                                                  |
+---------------------------------+--------------------------------------------------------------------------------------------------+

.. _Data Source: http://guide.in-portal.org/rus/index.php/K4:%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%BA%D0%BD%D0%BE%D0%BF%D0%BA%D0%B8_%D0%B2_%D0%BF%D0%B0%D0%BD%D0%B5%D0%BB%D1%8C_%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2
.. _Eng Data Source: http://guide.in-portal.org/eng/index.php/K4:Adding_New_Button_to_Toolbar
