OnExport
========
`Data Source`_

.. include:: /includes/not_finished.rst

Событие ``OnExport`` применяется только в административной консоли и происходит в начале процесса экспорта
данных. В нём собираются и сохраняются для последующего использования некоторые параметры экспорта -

- идентификаторы экспортируемых записей
- названия шаблонов экспорта

  - шаблон параметров
  - шаблон прогресса
  - шаблон окончания

и назначается перенаправление на шаблон параметров экспорта с передачей туда префикса экспортируемых данных
со ``Special = '.export'`` и c событием :doc:`/events/live_editing/on_new`, из чего следует стандартный
подход к использованию - для шаблона параметров следует создавать виртуальные поля именно под префиксом
экспортируемых данных и в шаблоне параметров эти поля выводить, применяя ``Special = '.export'``.

Вызывается из шаблона
---------------------

Вызывается из шаблона, имеющего отношение к экспортируемым данным, как правило, из шаблона, содержащего список,
в котором можно выбрать нужные записи, и затем начать экспорт, нажав на кнопку, производящую событие ``OnExport``.

Вызывается из событий
---------------------

Не вызывается из событий.

Входные параметры
-----------------

Нет входных параметров

Вызывает события
----------------

Не вызывает событий

Потенциальное применение
------------------------

Событие ``OnExport`` можно переопределить, если отбор данных для экспорта происходит каким-то необычным
способом. Например, оно уже переопределено в классе ``kCatDBEventHandler`` где можно выбрать не только
отдельные записи для экспорта, но и целые категории.

Ограничения
-----------

Отсутствуют.

Использует вспомогательные методы класса
----------------------------------------

- ``kDBEventHandler::StoreSelectedIDs``
- ``kDBEventHandler::getSelectedIDs``

.. _Data Source: http://guide.in-portal.org/rus/index.php/EventHandler:OnExport
