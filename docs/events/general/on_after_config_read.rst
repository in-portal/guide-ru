OnAfterConfigRead
=================
`Data Source`_

.. include:: /includes/not_finished.rst

Событие ``OnAfterConfigRead`` происходит для каждого Unit на этапе инициализации системы, после того
как в памяти уже собрана базовая конфигурация, основанная на
:doc:`Unit Configs </components/unit_configs/config_files>`. Соответственно, события ``OnAfterConfigRead``
генерируются модулем, ответственным за считывание конфигурации - ``kUnitConfigReader``.

По умолчанию тело метода ``OnAfterConfigRead`` пусто. Однако, это событие широко используется для изменения
базовой конфигурации - путём переопределения в классе-наследнике,
либо путём создания :doc:`hook </components/unit_configs/hooks>` к событию ``OnAfterConfigRead`` нужного
префикса.

Вызывается из шаблона
---------------------

Не вызывается из шаблонов.

Вызывается из событий
---------------------

Не вызывается из событий.

Входные параметры
-----------------

Отсутствуют.

Вызывает события
----------------

Не вызывает события.

Потенциальное применение
------------------------

В событии ``OnAfterConfigRead`` можно переопределить поля базы данных, шаблоны, классы, секции в
главном меню административной части сайта и любые другие настройки, доступные в
:doc:`Unit Configs </components/unit_configs/config_files>` без изменения базовых конфигурационных
файлов.

Пример - делаем поле обязательным для ввода.

.. code:: php

   $fields = $this->Application->getUnitOption($event->Prefix, 'Fields');
   $fields['FirstName']['required'] = 1;
   $fields['LastName']['required'] = 1;
   $this->Application->setUnitOption($event->Prefix, 'Fields', $fields);

Типичные действия таковы -

#. методом ``Application::getUnitOption`` считывается часть конфигурационного массива
#. делаются необходимые изменения в полученном ассоциативном массиве
#. методом ``Application::setUnitOption`` перезаписывается конфигурация

Ограничения
-----------

Особых ограничений нет.

Использует вспомогательные методы класса
----------------------------------------

Не использует вспомогательные методы класса.

.. _Data Source: http://guide.in-portal.org/rus/index.php/EventHandler:OnAfterConfigRead
